<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>editing_features | Atma's blog</title>
<link href="../../../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="../../../../../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../../../../../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#d4567b">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../../../../../rss.xml">
<link rel="canonical" href="https://atmamani.github.io/talks/arcgis_workshop/day1/10_working_with_feature_data/editing_features/">
<link rel="icon" href="../../../../../scatter-16.png" sizes="16x16">
<link rel="icon" href="../../../../../scatter-32.png" sizes="32x32">
<link rel="icon" href="../../../../../scatter-64.png" sizes="64x64">
<link rel="icon" href="../../../../../scatter-128.png" sizes="128x128">
<!--[if lt IE 9]><script src="../../../../../assets/js/html5.js"></script><![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-113202945-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-113202945-1');
</script><meta name="author" content="Atma Mani">
<meta property="og:site_name" content="Atma's blog">
<meta property="og:title" content="editing_features">
<meta property="og:url" content="https://atmamani.github.io/talks/arcgis_workshop/day1/10_working_with_feature_data/editing_features/">
<meta property="og:description" content="Editing Features¶edit_features() method on FeatureLayer object can be used for editing features. In the example below, we see how to add, update and delete features from a point feature layer






In">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2020-05-02T14:22:09-07:00">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://atmamani.github.io/">

                <span id="blog-title">Atma's blog</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Projects <b class="caret"></b></a>
            <ul class="dropdown-menu">
<li>
<a href="../../../../../projects/math/">Learn math with Python</a>
                    </li>
<li>
<a href="../../../../../projects/stats/">Learn stats with Python</a>
                    </li>
<li>
<a href="../../../../../projects/ml/">Machine Learning projects</a>
                    </li>
<li>
<a href="../../../../../projects/dl/">Deep Learning projects</a>
                    </li>
<li>
<a href="../../../../../projects/spatial/">Spatial analysis</a>
                    </li>
<li>
<a href="../../../../../projects/thermal/">Thermal remote sensing</a>
                    </li>
<li>
<a href="../../../../../projects/mwrs/">Microwave remote sensing</a>
                    </li>
<li>
<a href="../../../../../projects/fun/">Fun projects</a>
            </li>
</ul>
</li>
<li>
<a href="../../../../../blog/">Blog</a>
                </li>
<li>
<a href="../../../../">Talks</a>
                </li>
<li>
<a href="../../../../../books/">Books</a>
            </li>
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Cheatsheets <b class="caret"></b></a>
            <ul class="dropdown-menu">
<li>
<a href="../../../../../cheatsheets/learning-resources/">General learning resources</a>
                    </li>
<li>
<a href="../../../../../"><hr></a>
                    </li>
<li>
<a href="../../../../../cheatsheets/python/python_datatypes/">Python datatypes</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/python/python_numeric_datatypes/">Python numeric datatypes</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/python/python_conditional_execution/">Python conditional execution</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/python/python_functions/">Python functions</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/python/python_iterations/">Python iterations</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/python/python_exception_handling/">Python exception handling</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/python/python_classes/">Python classes</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/python/python_memory/">Python memory, ref counts, garbage collection</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/python/python_mutability/">Python - mutability and immutability</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/python/python_language_optimizations/">Python - language optimizations</a>
                    </li>
<li>
<a href="../../../../../images/regex-mindmap.jpg">Python regex</a>
                    </li>
<li>
<a href="../../../../../"><hr></a>
                    </li>
<li>
<a href="../../../../../cheatsheets/conda_cheat_sheet/">Conda basics</a>
                    </li>
<li>
<a href="../../../../../"><hr></a>
                    </li>
<li>
<a href="../../../../../cheatsheets/numpy/numpy_cheat_sheet_1/">NumPy basics</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/numpy/numpy_cheat_sheet_2/">NumPy array slicing, dicing, searching</a>
                    </li>
<li>
<a href="../../../../../"><hr></a>
                    </li>
<li>
<a href="../../../../../cheatsheets/pandas/pandas_cheat_sheet_1/">Pandas basics</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/pandas/pandas_cheat_sheet_2/">Pandas multilevel index, <br>    missing data, aggregation, merging</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/pandas/pandas_cheat_sheet_3/">Productivity with Pandas</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/pandas/pandas_data_viz_1/">Pandas data visualization</a>
                    </li>
<li>
<a href="../../../../../"><hr></a>
                    </li>
<li>
<a href="../../../../../cheatsheets/matplotlib/matplotlib_1/">Matplotlib basics</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/matplotlib/matplotlib_2/">Matplotlib log scales, ticks, scientific</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/matplotlib/matplotlib_geo/">Geographical plotting with Basemap - matplotlib toolkit</a>
                    </li>
<li>
<a href="../../../../../"><hr></a>
                    </li>
<li>
<a href="../../../../../cheatsheets/seaborn/seaborn_cheat_sheet_1/">Seaborn dist, joint, pair, rug plots</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/seaborn/seaborn_cheat_sheet_2/">Seaborn categorical - bar, count, <br>violin, strip, swarm plots</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/seaborn/seaborn_cheat_sheet_3/">Seaborn matrix, regression - heatmap, <br> cluster, regression</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/seaborn/seaborn_cheat_sheet_4/">Seaborn grids &amp; custom - pair, facet grids <br> customization</a>
                    </li>
<li>
<a href="../../../../../"><hr></a>
                    </li>
<li>
<a href="../../../../../cheatsheets/plotly/plotly_cufflinks_cheat_sheet_1/">Plotly introduction</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/plotly/plotly_cufflinks_cheat_sheet_2/">Plotly - interactive plotting</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/plotly/plotly_geographical_plotting_1/">Plotly - geographic plotting</a>
                    </li>
<li>
<a href="../../../../../"><hr></a>
                    </li>
<li>
<a href="../../../../../cheatsheets/r_cheat_sheet_1/">R basics</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/octave-1/">Octave / MATLAB - basics</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/octave-2/">Octave - handling data</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/js_essentials/">Javascript essentials</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/latex-1/">Latex introduction</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/docker-1/">Docker introduction</a>
                    </li>
<li>
<a href="../../../../../"><hr></a>
                    </li>
<li>
<a href="../../../../../cheatsheets/open-geo/geopandas-1/">GeoPandas - IO, projections, plotting</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/open-geo/geopandas-2/">GeoPandas - GP, IO, interactive plotting, geocoding</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/open-geo/geopandas-3/">GeoPandas - spatial overlays, topology</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/open-geo/geopandas-4/">GeoPandas - PySal, OSM data IO</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/open-geo/open-geo-raster-1/">Rasterio - IO, plotting, histograms</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/open-geo/open-geo-raster-2/">Rasterio - hyperspectral, SAM</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/open-geo/reading-multidim-data-using-opengeotools/">Reading multi-dimensional data using open geo tools</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/open-geo/postgis-1/">PostGIS - introduction</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/open-geo/postgis-2/">PostGIS - SQLAlchemy, GeoAlchemy, GeoPandas</a>
                    </li>
<li>
<a href="../../../../../"><hr></a>
                    </li>
<li>
<a href="../../../../../cheatsheets/web-development/">Web Development</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/html/">HTML basics</a>
            </li>
</ul>
</li>
<li>
<a href="../../../../../apps/">Apps</a>
                </li>
<li>
<a href="../../../../../rss.xml">RSS feed</a>

                
            </li>
</ul>
<!-- DuckDuckGo custom search --><form method="get" id="search" action="https://duckduckgo.com/" class="navbar-form pull-left">
<input type="hidden" name="sites" value="https://atmamani.github.io/"><input type="hidden" name="k8" value="#444444"><input type="hidden" name="k9" value="#D51920"><input type="hidden" name="kt" value="h"><input type="text" name="q" maxlength="255" placeholder="Search…" class="span2" style="margin-top: 4px;"><input type="submit" value="DuckDuckGo Search" style="visibility: hidden;">
</form>
<!-- End of custom search -->


            <ul class="nav navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text storypage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">editing_features</a></h1>

        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Editing-Features">Editing Features<a class="anchor-link" href="#Editing-Features">¶</a>
<a href="#Editing-Features" class="headerlink" title="Permalink to this heading">¶</a></h2>
<p><code>edit_features()</code> method on <code>FeatureLayer</code> object can be used for editing features. In the example below, we see how to add, update and delete features from a point feature layer</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#connect to GIS</span>
<span class="kn">from</span> <span class="nn">arcgis.gis</span> <span class="kn">import</span> <span class="n">GIS</span>
<span class="kn">from</span> <span class="nn">getpass</span> <span class="kn">import</span> <span class="n">getpass</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">display</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">password</span> <span class="o">=</span> <span class="n">getpass</span><span class="p">()</span>
<span class="n">gis</span> <span class="o">=</span> <span class="n">GIS</span><span class="p">(</span><span class="s1">'https://pycontraptions.maps.arcgis.com'</span><span class="p">,</span><span class="s1">'atma_mani'</span><span class="p">,</span><span class="n">password</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>········
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#search for the feature layer named Ports along west coast</span>
<span class="n">search_result</span> <span class="o">=</span> <span class="n">gis</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">'title:fortune_500_styled_wfl'</span><span class="p">)</span>
<span class="n">search_result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[3]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div class="item_container" style="height: auto; overflow: hidden; border: 1px solid #cfcfcf; border-radius: 2px; background: #f6fafa; line-height: 1.21429em; padding: 10px;">
                    <div class="item_left" style="width: 210px; float: left;">
                       <a href="https://pycontraptions.maps.arcgis.com/home/item.html?id=0a3a3963fb4a452b8c34c484f8383b48" target="_blank">
                        <img src="data:image/png;base64,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" width="200" height="133" class="itemThumbnail"></a>
                    </div>

                    <div class="item_right" style="float: none; width: auto; overflow: hidden;">
                        <a href="https://pycontraptions.maps.arcgis.com/home/item.html?id=0a3a3963fb4a452b8c34c484f8383b48" target="_blank"><b>fortune_500_styled_wfl</b>
                        </a>
                        <br>fortune 500<img src="https://pycontraptions.maps.arcgis.com/home/js/jsapi/esri/css/images/item_type_icons/featureshosted16.png" style="vertical-align:middle;">Feature Layer Collection by atma_mani
                        <br>Last Modified: March 04, 2017
                        <br>0 comments, 6 views
                    </div>
                </div>
                </div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#access the item's feature layers</span>
<span class="n">fortune_500_item</span> <span class="o">=</span> <span class="n">search_result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">fortune_500_layers</span> <span class="o">=</span> <span class="n">fortune_500_item</span><span class="o">.</span><span class="n">layers</span>
<span class="n">fortune_500_layers</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[4]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>[&lt;FeatureLayer url:"https://services7.arcgis.com/xo9aDUkMXBivHk37/arcgis/rest/services/fortune_500_styled/FeatureServer/0"&gt;,
 &lt;FeatureLayer url:"https://services7.arcgis.com/xo9aDUkMXBivHk37/arcgis/rest/services/fortune_500_styled/FeatureServer/1"&gt;,
 &lt;FeatureLayer url:"https://services7.arcgis.com/xo9aDUkMXBivHk37/arcgis/rest/services/fortune_500_styled/FeatureServer/2"&gt;,
 &lt;FeatureLayer url:"https://services7.arcgis.com/xo9aDUkMXBivHk37/arcgis/rest/services/fortune_500_styled/FeatureServer/3"&gt;]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Query-the-features">Query the features<a class="anchor-link" href="#Query-the-features">¶</a>
<a href="#Query-the-features" class="headerlink" title="Permalink to this heading">¶</a></h3>
<p>Let us query the features on this layer</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cities_flayer</span> <span class="o">=</span> <span class="n">fortune_500_layers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">cities_flayer</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">name</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[5]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>'cities_over1mil'</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [18]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#query all the features and display it on a map</span>
<span class="n">cities_fset</span> <span class="o">=</span> <span class="n">cities_flayer</span><span class="o">.</span><span class="n">query</span><span class="p">()</span> <span class="c1">#an empty query string will return all </span>
                                        <span class="c1">#the features or the first 1000 which ever is smaller</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The <code>df</code> property of <code>FeatureSet</code> class is a powerful way to visualize all the features as a pandas dataframe table.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [19]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cities_fset</span><span class="o">.</span><span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[19]:</div>



<div class="output_html rendered_html output_subarea output_execute_result"><div>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
      <th>FEATURE</th>
      <th>NAME</th>
      <th>POP</th>
      <th>geometry.x</th>
      <th>geometry.y</th>
    </tr>
<tr>
<th>OBJECTID</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
</thead>
<tbody>
<tr>
<th>1</th>
      <td>Population greater than 999,999   County Seat</td>
      <td>Los Angeles</td>
      <td>3485398</td>
      <td>-1.316297e+07</td>
      <td>4.035820e+06</td>
    </tr>
<tr>
<th>2</th>
      <td>Population greater than 999,999   County Seat</td>
      <td>San Diego</td>
      <td>1110549</td>
      <td>-1.304195e+07</td>
      <td>3.857562e+06</td>
    </tr>
<tr>
<th>3</th>
      <td>Population greater than 999,999   County Seat</td>
      <td>New York City</td>
      <td>7322564</td>
      <td>-8.238278e+06</td>
      <td>4.970310e+06</td>
    </tr>
<tr>
<th>4</th>
      <td>Population greater than 999,999   County Seat</td>
      <td>Philadelphia</td>
      <td>1585577</td>
      <td>-8.367174e+06</td>
      <td>4.859018e+06</td>
    </tr>
<tr>
<th>5</th>
      <td>Population greater than 999,999   County Seat</td>
      <td>Dallas</td>
      <td>1006877</td>
      <td>-1.077579e+07</td>
      <td>3.866612e+06</td>
    </tr>
<tr>
<th>6</th>
      <td>Population greater than 999,999   County Seat</td>
      <td>Houston</td>
      <td>1630553</td>
      <td>-1.061585e+07</td>
      <td>3.473191e+06</td>
    </tr>
<tr>
<th>7</th>
      <td>Population greater than 999,999   County Seat</td>
      <td>Chicago</td>
      <td>2783726</td>
      <td>-9.757182e+06</td>
      <td>5.138534e+06</td>
    </tr>
<tr>
<th>8</th>
      <td>Population greater than 999,999   County Seat</td>
      <td>Detroit</td>
      <td>1027974</td>
      <td>-9.244611e+06</td>
      <td>5.210796e+06</td>
    </tr>
</tbody>
</table>
</div></div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Visualize-the-features-on-a-map">Visualize the features on a map<a class="anchor-link" href="#Visualize-the-features-on-a-map">¶</a>
<a href="#Visualize-the-features-on-a-map" class="headerlink" title="Permalink to this heading">¶</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">map1</span> <span class="o">=</span> <span class="n">gis</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="s1">'USA'</span><span class="p">)</span>
<span class="n">map1</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [10]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">map1</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">fortune_500_item</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Editing-features">Editing features<a class="anchor-link" href="#Editing-features">¶</a>
<a href="#Editing-features" class="headerlink" title="Permalink to this heading">¶</a></h2>
<h3 id="Check-if-the-layer-can-be-edited">Check if the layer can be edited<a class="anchor-link" href="#Check-if-the-layer-can-be-edited">¶</a>
<a href="#Check-if-the-layer-can-be-edited" class="headerlink" title="Permalink to this heading">¶</a></h3>
<p>Check if <code>edit</code> capability is found on the <code>FeatureLayer</code> object.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cities_flayer</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">capabilities</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[11]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>'Create,Delete,Query,Update,Editing'</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Change the capabilities in the home app. In the next demo we will observe how to change this programmatically</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [10]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cities_flayer</span><span class="o">.</span><span class="n">_refresh</span><span class="p">()</span>
<span class="n">cities_flayer</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">capabilities</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[10]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>'Create,Delete,Query,Update,Editing'</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Updating-features">Updating features<a class="anchor-link" href="#Updating-features">¶</a>
<a href="#Updating-features" class="headerlink" title="Permalink to this heading">¶</a></h4>
<p>Change 'New York' to 'New York City'</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [13]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cities_features</span> <span class="o">=</span> <span class="n">cities_fset</span><span class="o">.</span><span class="n">features</span>

<span class="c1"># select 'NAME=New York'</span>
<span class="n">ny_feature</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">cities_features</span> <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">attributes</span><span class="p">[</span><span class="s1">'NAME'</span><span class="p">]</span><span class="o">==</span><span class="s1">'New York'</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="n">ny_feature</span><span class="o">.</span><span class="n">attributes</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[13]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>{'FEATURE': 'Population greater than 999,999   County Seat',
 'NAME': 'New York',
 'OBJECTID': 3,
 'POP': 7322564}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [14]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># lets make a deep copy of ny_feature so we can edit the copy</span>
<span class="kn">import</span> <span class="nn">copy</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [15]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ny_edit</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">ny_feature</span><span class="p">)</span>
<span class="n">ny_edit</span><span class="o">.</span><span class="n">attributes</span><span class="p">[</span><span class="s1">'NAME'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'New York City'</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [16]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">display</span><span class="p">(</span><span class="n">ny_edit</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>




<div class="output_text output_subarea ">
<pre>{"geometry": {"y": 4970310.197143376, "x": -8238277.756585079}, "attributes": {"OBJECTID": 3, "NAME": "New York City", "FEATURE": "Population greater than 999,999   County Seat", "POP": 7322564}}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now let us send this feature object to the <code>edit_features()</code> method and edit the original feature layer.</p>
<p><code>edit_features()</code> <a href="http://esri.github.io/arcgis-python-api/apidoc/html/arcgis.features.toc.html#arcgis.features.FeatureLayer.edit_features">signature</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [17]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">update_result</span> <span class="o">=</span> <span class="n">cities_flayer</span><span class="o">.</span><span class="n">edit_features</span><span class="p">(</span><span class="n">updates</span><span class="o">=</span><span class="p">[</span><span class="n">ny_edit</span><span class="p">])</span>
<span class="n">update_result</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[17]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>{'addResults': [],
 'deleteResults': [],
 'updateResults': [{'globalId': None, 'objectId': 3, 'success': True}]}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Check if the updates are reflected in arcgis.com</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Adding-features">Adding features<a class="anchor-link" href="#Adding-features">¶</a>
<a href="#Adding-features" class="headerlink" title="Permalink to this heading">¶</a></h4>
<p>Call <code>edit_features()</code> and pass the new <code>Feature</code> object to the <code>adds</code> argument</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [22]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># lets add San Francisco as the new feature</span>
<span class="c1"># make use of the ny_edit Feature object and substitute it</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ny_edit</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>{"attributes": {"NAME": "New York City", "POP": 7322564, "OBJECTID": 3, "FEATURE": "Population greater than 999,999   County Seat"}, "geometry": {"y": 4970310.197143376, "x": -8238277.756585079}}
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Use Geocoding tools to find the X,Y of SFO.
But to use the geocoding tools we need to know the spatial reference of existing features. We are going to see more of geocoding tomorrow.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [23]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># get the SRS from cities FeatureSet object</span>
<span class="n">cities_fset</span><span class="o">.</span><span class="n">spatial_reference</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[23]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>{'latestWkid': 3857, 'wkid': 102100}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [24]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># now call the geocoding tools</span>
<span class="kn">from</span> <span class="nn">arcgis</span> <span class="kn">import</span> <span class="n">geocoding</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">geocoding</span><span class="o">.</span><span class="n">geocode</span><span class="p">(</span><span class="s1">'San Francisco'</span><span class="p">,</span> <span class="n">out_sr</span> <span class="o">=</span> <span class="n">cities_fset</span><span class="o">.</span><span class="n">spatial_reference</span><span class="p">)</span>
<span class="n">results</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[24]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>{'address': 'San Francisco, California, United States',
 'attributes': {'AddBldg': '',
  'AddNum': '',
  'AddNumFrom': '',
  'AddNumTo': '',
  'Addr_type': 'POI',
  'City': '',
  'Country': 'USA',
  'DisplayX': -122.41942,
  'DisplayY': 37.774928,
  'Distance': 0,
  'LangCode': '',
  'Loc_name': 'Gaz.WorldGazetteer.POI1',
  'Match_addr': 'San Francisco, California, United States',
  'Nbrhd': '',
  'Phone': '',
  'PlaceName': 'San Francisco',
  'Place_addr': '',
  'Postal': '',
  'PostalExt': '',
  'Rank': '2.5',
  'Region': 'California',
  'Score': 100,
  'Side': '',
  'StAddr': '',
  'StDir': '',
  'StName': '',
  'StPreDir': '',
  'StPreType': '',
  'StType': '',
  'Subregion': 'San Francisco',
  'Type': 'City',
  'URL': '',
  'X': -122.41942,
  'Xmax': -122.31742,
  'Xmin': -122.52142,
  'Y': 37.774928,
  'Ymax': 37.876928,
  'Ymin': 37.672928},
 'extent': {'xmax': -13616312.909546977,
  'xmin': -13639022.085668804,
  'ymax': 4562054.425915602,
  'ymin': 4533323.9884680845},
 'location': {'x': -13627667.422244564, 'y': 4547679.260407308},
 'score': 100}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [25]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sfo_location</span> <span class="o">=</span> <span class="n">results</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">'location'</span><span class="p">]</span>
<span class="n">sfo_location</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[25]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>{'x': -13627667.422244564, 'y': 4547679.260407308}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [33]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sfo_new_feature</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">ny_edit</span><span class="p">)</span>
<span class="n">sfo_new_feature</span><span class="o">.</span><span class="n">as_dict</span><span class="p">[</span><span class="s1">'geometry'</span><span class="p">]</span> <span class="o">=</span> <span class="n">sfo_location</span>
<span class="n">sfo_new_feature</span><span class="o">.</span><span class="n">as_dict</span><span class="p">[</span><span class="s1">'attributes'</span><span class="p">][</span><span class="s1">'FEATURE'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'created with Python API'</span>
<span class="n">sfo_new_feature</span><span class="o">.</span><span class="n">as_dict</span><span class="p">[</span><span class="s1">'attributes'</span><span class="p">][</span><span class="s1">'POP'</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1234567</span> <span class="c1">#about 1.2 million hypothetically</span>
<span class="n">sfo_new_feature</span><span class="o">.</span><span class="n">as_dict</span><span class="p">[</span><span class="s1">'attributes'</span><span class="p">][</span><span class="s1">'NAME'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'San Francisco'</span>
<span class="c1">#sfo_new_feature.as_dict['attributes']['OBJECTID'] =??  # dont mess with this system field</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [34]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sfo_new_feature</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[34]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>{"attributes": {"NAME": "San Francisco_sr3", "POP": 1234567, "OBJECTID": 3, "FEATURE": "created with Python API"}, "geometry": {"y": 4547679.260407308, "x": -13627667.422244564}}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [35]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">add_result</span> <span class="o">=</span> <span class="n">cities_flayer</span><span class="o">.</span><span class="n">edit_features</span><span class="p">(</span><span class="n">adds</span> <span class="o">=</span> <span class="p">[</span><span class="n">sfo_new_feature</span><span class="o">.</span><span class="n">as_dict</span><span class="p">])</span>
<span class="n">add_result</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[35]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>{'addResults': [{'globalId': None, 'objectId': 11, 'success': True}],
 'deleteResults': [],
 'updateResults': []}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Deleting-features">Deleting features<a class="anchor-link" href="#Deleting-features">¶</a>
<a href="#Deleting-features" class="headerlink" title="Permalink to this heading">¶</a></h4>
<p>Call <code>edit_features()</code> method and passing the object id of the feature we want to be remove to the <code>deletes</code> parameter. 
<strong>Note</strong>: pass object id as a string</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [38]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># pass the object id as a string to the delete parameter</span>
<span class="n">delete_result</span> <span class="o">=</span> <span class="n">cities_flayer</span><span class="o">.</span><span class="n">edit_features</span><span class="p">(</span><span class="n">deletes</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="mi">9</span><span class="p">))</span>
<span class="n">delete_result</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[38]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>{'addResults': [],
 'deleteResults': [{'globalId': None, 'objectId': 9, 'success': True}],
 'updateResults': []}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Check-results-of-edit-operations">Check results of edit operations<a class="anchor-link" href="#Check-results-of-edit-operations">¶</a>
<a href="#Check-results-of-edit-operations" class="headerlink" title="Permalink to this heading">¶</a></h3>
<p>We have successfully added, removed and edited features. Let us query the layer once again and display the resutls as a dataframe and verify them.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [39]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cities_fset_edited</span> <span class="o">=</span> <span class="n">cities_flayer</span><span class="o">.</span><span class="n">query</span><span class="p">()</span>
<span class="n">cities_fset_edited</span><span class="o">.</span><span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[39]:</div>



<div class="output_html rendered_html output_subarea output_execute_result"><div>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
      <th>FEATURE</th>
      <th>NAME</th>
      <th>POP</th>
      <th>geometry.x</th>
      <th>geometry.y</th>
    </tr>
<tr>
<th>OBJECTID</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
</thead>
<tbody>
<tr>
<th>1</th>
      <td>Population greater than 999,999   County Seat</td>
      <td>Los Angeles</td>
      <td>3485398</td>
      <td>-1.316297e+07</td>
      <td>4.035820e+06</td>
    </tr>
<tr>
<th>2</th>
      <td>Population greater than 999,999   County Seat</td>
      <td>San Diego</td>
      <td>1110549</td>
      <td>-1.304195e+07</td>
      <td>3.857562e+06</td>
    </tr>
<tr>
<th>3</th>
      <td>Population greater than 999,999   County Seat</td>
      <td>New York City</td>
      <td>7322564</td>
      <td>-8.238278e+06</td>
      <td>4.970310e+06</td>
    </tr>
<tr>
<th>4</th>
      <td>Population greater than 999,999   County Seat</td>
      <td>Philadelphia</td>
      <td>1585577</td>
      <td>-8.367174e+06</td>
      <td>4.859018e+06</td>
    </tr>
<tr>
<th>5</th>
      <td>Population greater than 999,999   County Seat</td>
      <td>Dallas</td>
      <td>1006877</td>
      <td>-1.077579e+07</td>
      <td>3.866612e+06</td>
    </tr>
<tr>
<th>6</th>
      <td>Population greater than 999,999   County Seat</td>
      <td>Houston</td>
      <td>1630553</td>
      <td>-1.061585e+07</td>
      <td>3.473191e+06</td>
    </tr>
<tr>
<th>7</th>
      <td>Population greater than 999,999   County Seat</td>
      <td>Chicago</td>
      <td>2783726</td>
      <td>-9.757182e+06</td>
      <td>5.138534e+06</td>
    </tr>
<tr>
<th>8</th>
      <td>Population greater than 999,999   County Seat</td>
      <td>Detroit</td>
      <td>1027974</td>
      <td>-9.244611e+06</td>
      <td>5.210796e+06</td>
    </tr>
</tbody>
</table>
</div></div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Thus, we no longer see 'Redlands' which we deleted. We see a new objectid of 23 corresponding to Los Angeles that we added. Also the short_form of San Francisco is corrected to 'SFO'.</p>
<p>The edits we performed on the features are persisted in the feature layer and will reflect in all clients accessing it.</p>

</div>
</div>
</div>
    </div>
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" integrity="sha384-3lJUsx1TJHt7BA4udB5KPnDrlkO8T6J6v/op7ui0BbCjvZ9WqV4Xm6DTP6kQ/iBH" crossorigin="anonymous"></script><script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true
    },
    displayAlign: 'center', // Change this to 'left' if you want left-aligned equations.
    "HTML-CSS": {
        styles: {'.MathJax_Display': {"margin": 0}}
    }
});
</script></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2022         <a href="mailto:atma.mani@outlook.com">Atma Mani</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
            
        </footer>
</div>
</div>


            <script src="../../../../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script>
</body>
</html>