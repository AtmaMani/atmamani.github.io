<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ordering_a_data_takeout | Atma's blog</title>
<link href="../../../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="../../../../../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../../../../../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#d4567b">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../../../../../rss.xml">
<link rel="canonical" href="https://atmamani.github.io/talks/arcgis_workshop/day2/11_working_with_feature_data2/ordering_a_data_takeout/">
<link rel="icon" href="../../../../../scatter-16.png" sizes="16x16">
<link rel="icon" href="../../../../../scatter-32.png" sizes="32x32">
<link rel="icon" href="../../../../../scatter-64.png" sizes="64x64">
<link rel="icon" href="../../../../../scatter-128.png" sizes="128x128">
<!--[if lt IE 9]><script src="../../../../../assets/js/html5.js"></script><![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-113202945-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-113202945-1');
</script><meta name="author" content="Atma Mani">
<meta property="og:site_name" content="Atma's blog">
<meta property="og:title" content="ordering_a_data_takeout">
<meta property="og:url" content="https://atmamani.github.io/talks/arcgis_workshop/day2/11_working_with_feature_data2/ordering_a_data_takeout/">
<meta property="og:description" content="Ordering a data takeout¶Sync overview¶Feature layers includes a Sync capability, which when enabled, allows client applications to take feature layers offline, perform edits and sync it back to the la">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2022-06-08T10:27:44-07:00">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://atmamani.github.io/">

                <span id="blog-title">Atma’s blog</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Projects <b class="caret"></b></a>
            <ul class="dropdown-menu">
<li>
<a href="../../../../../projects/math/">Learn math with Python</a>
                    </li>
<li>
<a href="../../../../../projects/stats/">Learn stats with Python</a>
                    </li>
<li>
<a href="../../../../../projects/ml/">Machine Learning projects</a>
                    </li>
<li>
<a href="../../../../../projects/dl/">Deep Learning projects</a>
                    </li>
<li>
<a href="../../../../../projects/spatial/">Spatial analysis</a>
                    </li>
<li>
<a href="../../../../../projects/thermal/">Thermal remote sensing</a>
                    </li>
<li>
<a href="../../../../../projects/mwrs/">Microwave remote sensing</a>
                    </li>
<li>
<a href="../../../../../projects/cloud/">Cloud computing</a>
                    </li>
<li>
<a href="../../../../../projects/fun/">Fun projects</a>
            </li>
</ul>
</li>
<li>
<a href="../../../../../blog/">Blog</a>
                </li>
<li>
<a href="../../../../">Talks</a>
                </li>
<li>
<a href="../../../../../books/">Books</a>
            </li>
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Cheatsheets <b class="caret"></b></a>
            <ul class="dropdown-menu">
<li>
<a href="../../../../../cheatsheets/learning-resources/">General learning resources</a>
                    </li>
<li>
<a href="../../../../../"><hr></a>
                    </li>
<li>
<a href="../../../../../cheatsheets/python/python_datatypes/">Python datatypes</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/python/python_numeric_datatypes/">Python numeric datatypes</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/python/python_conditional_execution/">Python conditional execution</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/python/python_functions/">Python functions</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/python/python_iterations/">Python iterations</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/python/python_exception_handling/">Python exception handling</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/python/python_classes/">Python classes</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/python/python_memory/">Python memory, ref counts, garbage collection</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/python/python_mutability/">Python - mutability and immutability</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/python/python_language_optimizations/">Python - language optimizations</a>
                    </li>
<li>
<a href="../../../../../images/regex-mindmap.jpg">Python regex</a>
                    </li>
<li>
<a href="../../../../../"><hr></a>
                    </li>
<li>
<a href="../../../../../cheatsheets/golang/">Go introduction</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/golang/golang-basics/">Go basics</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/golang/golang-datatypes/">Go data types</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/golang/golang-control-flow/">Go control flow</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/golang/goroutine/">Goroutines - concurrency in Go lang</a>
                    </li>
<li>
<a href="../../../../../"><hr></a>
                    </li>
<li>
<a href="../../../../../cheatsheets/conda_cheat_sheet/">Conda basics</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/mamba_cheat_sheet/">Mamba basics</a>
                    </li>
<li>
<a href="../../../../../"><hr></a>
                    </li>
<li>
<a href="../../../../../cheatsheets/numpy/numpy_cheat_sheet_1/">NumPy basics</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/numpy/numpy_cheat_sheet_2/">NumPy array slicing, dicing, searching</a>
                    </li>
<li>
<a href="../../../../../"><hr></a>
                    </li>
<li>
<a href="../../../../../cheatsheets/pandas/pandas_cheat_sheet_1/">Pandas basics</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/pandas/pandas_cheat_sheet_2/">Pandas multilevel index, <br>    missing data, aggregation, merging</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/pandas/pandas_cheat_sheet_3/">Productivity with Pandas</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/pandas/pandas_data_viz_1/">Pandas data visualization</a>
                    </li>
<li>
<a href="../../../../../"><hr></a>
                    </li>
<li>
<a href="../../../../../cheatsheets/matplotlib/matplotlib_1/">Matplotlib basics</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/matplotlib/matplotlib_2/">Matplotlib log scales, ticks, scientific</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/matplotlib/matplotlib_geo/">Geographical plotting with Basemap - matplotlib toolkit</a>
                    </li>
<li>
<a href="../../../../../"><hr></a>
                    </li>
<li>
<a href="../../../../../cheatsheets/seaborn/seaborn_cheat_sheet_1/">Seaborn dist, joint, pair, rug plots</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/seaborn/seaborn_cheat_sheet_2/">Seaborn categorical - bar, count, <br>violin, strip, swarm plots</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/seaborn/seaborn_cheat_sheet_3/">Seaborn matrix, regression - heatmap, <br> cluster, regression</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/seaborn/seaborn_cheat_sheet_4/">Seaborn grids <span class="amp">&amp;</span> custom - pair, facet grids <br> customization</a>
                    </li>
<li>
<a href="../../../../../"><hr></a>
                    </li>
<li>
<a href="../../../../../cheatsheets/plotly/plotly_cufflinks_cheat_sheet_1/">Plotly introduction</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/plotly/plotly_cufflinks_cheat_sheet_2/">Plotly - interactive plotting</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/plotly/plotly_geographical_plotting_1/">Plotly - geographic plotting</a>
                    </li>
<li>
<a href="../../../../../"><hr></a>
                    </li>
<li>
<a href="../../../../../cheatsheets/r_cheat_sheet_1/">R basics</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/octave-1/">Octave / <span class="caps">MATLAB</span> - basics</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/octave-2/">Octave - handling data</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/js_essentials/">Javascript essentials</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/latex-1/">Latex introduction</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/docker-1/">Docker introduction</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/grep-1/">Grep introduction</a>
                    </li>
<li>
<a href="../../../../../"><hr></a>
                    </li>
<li>
<a href="../../../../../cheatsheets/open-geo/geopandas-1/">GeoPandas - <span class="caps">IO</span>, projections, plotting</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/open-geo/geopandas-2/">GeoPandas - <span class="caps">GP</span>, <span class="caps">IO</span>, interactive plotting, geocoding</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/open-geo/geopandas-3/">GeoPandas - spatial overlays, topology</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/open-geo/geopandas-4/">GeoPandas - PySal, <span class="caps">OSM</span> data <span class="caps">IO</span></a>
                    </li>
<li>
<a href="../../../../../cheatsheets/open-geo/open-geo-raster-1/">Rasterio - <span class="caps">IO</span>, plotting, histograms</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/open-geo/open-geo-raster-2/">Rasterio - hyperspectral, <span class="caps">SAM</span></a>
                    </li>
<li>
<a href="../../../../../cheatsheets/open-geo/reading-multidim-data-using-opengeotools/">Reading multi-dimensional data using open geo tools</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/open-geo/postgis-1/">PostGIS - introduction</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/open-geo/postgis-2/">PostGIS - SQLAlchemy, GeoAlchemy, GeoPandas</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/open-geo/gdal-1/"><span class="caps">GDAL</span> - an introduction</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/open-geo/gdal-2/"><span class="caps">GDAL</span> - quickstart</a>
                    </li>
<li>
<a href="../../../../../"><hr></a>
                    </li>
<li>
<a href="../../../../../cheatsheets/web-development/">Web Development</a>
                    </li>
<li>
<a href="../../../../../cheatsheets/html/"><span class="caps">HTML</span> basics</a>
            </li>
</ul>
</li>
<li>
<a href="../../../../../apps/">Apps</a>
                </li>
<li>
<a href="../../../../../rss.xml"><span class="caps">RSS</span> feed</a>

                
            </li>
</ul>
<!-- DuckDuckGo custom search --><form method="get" id="search" action="https://duckduckgo.com/" class="navbar-form pull-left">
<input type="hidden" name="sites" value="https://atmamani.github.io/"><input type="hidden" name="k8" value="#444444"><input type="hidden" name="k9" value="#D51920"><input type="hidden" name="kt" value="h"><input type="text" name="q" maxlength="255" placeholder="Search…" class="span2" style="margin-top: 4px;"><input type="submit" value="DuckDuckGo Search" style="visibility: hidden;">
</form>
<!-- End of custom search -->


            <ul class="nav navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text storypage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">ordering_a_data_takeout</a></h1>

        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Ordering-a-data-takeout">Ordering a data takeout<a class="anchor-link" href="#Ordering-a-data-takeout">¶</a>
<a href="#Ordering-a-data-takeout" class="headerlink" title="Permalink to this heading">¶</a></h2>
<h3 id="Sync-overview">Sync overview<a class="anchor-link" href="#Sync-overview">¶</a>
<a href="#Sync-overview" class="headerlink" title="Permalink to this heading">¶</a></h3>
<p>Feature layers includes a <code>Sync</code> capability, which when enabled, allows client applications to take feature layers offline, perform edits and sync it back to the layer.</p>
<p>When you checkout some features and store it offline in the client, you call that a <code>replica</code>. The <code>FeatureLayerCollection</code> class under the <code>features</code> module allows users to create and work with replicas.</p>
<p>The workflow of using sync involves these three operations:</p>
<ul>
<li>Create replica</li>
<li>Synchronize replica</li>
<li>Unregister replica</li>
</ul>
<p>To learn more about this feature, refer to the <a href="http://resources.arcgis.com/en/help/arcgis-rest-api/index.html#//02r300000112000000">documentation here</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Checking-out-data-from-feature-layers-using-replicas">Checking out data from feature layers using replicas<a class="anchor-link" href="#Checking-out-data-from-feature-layers-using-replicas">¶</a>
<a href="#Checking-out-data-from-feature-layers-using-replicas" class="headerlink" title="Permalink to this heading">¶</a></h4>
<p>To create a replica, we need a feature layer that is sync enabled. <code>FeatureLayer.syncEnabled</code> to verify that. Further the <code>syncCapabilities</code> property returns a dictionary with fine grained sync capabilities.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># connect to a GIS</span>
<span class="kn">from</span> <span class="nn">arcgis.gis</span> <span class="kn">import</span> <span class="n">GIS</span>
<span class="kn">import</span> <span class="nn">arcgis.features</span>
<span class="n">gis</span> <span class="o">=</span> <span class="n">GIS</span><span class="p">()</span> <span class="c1"># connect to www.arcgis.com anonymously. </span>
            <span class="c1"># we will use a public sync enabled feature layer</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Create a <code>FeatureLayerCollection</code> object from a feature service</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="s1">'https://sampleserver6.arcgisonline.com/arcgis/rest/services/Sync/WildfireSync/FeatureServer/'</span>
<span class="n">wildfire_flc</span> <span class="o">=</span> <span class="n">arcgis</span><span class="o">.</span><span class="n">features</span><span class="o">.</span><span class="n">FeatureLayerCollection</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">gis</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">wildfire_flc</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[3]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>arcgis.features.layer.FeatureLayerCollection</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Verify-if-sync-is-enabled">Verify if sync is enabled<a class="anchor-link" href="#Verify-if-sync-is-enabled">¶</a>
<a href="#Verify-if-sync-is-enabled" class="headerlink" title="Permalink to this heading">¶</a></h4>
<p>Accessing the <code>layers</code> property on a <code>FeatureLayerCollection</code> returns a list of <code>FeatureLayer</code> objects. We can create a replica of one of these or all of these layers</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">wildfire_flc</span><span class="o">.</span><span class="n">layers</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[4]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>[&lt;FeatureLayer url:"https://sampleserver6.arcgisonline.com/arcgis/rest/services/Sync/WildfireSync/FeatureServer//0"&gt;,
 &lt;FeatureLayer url:"https://sampleserver6.arcgisonline.com/arcgis/rest/services/Sync/WildfireSync/FeatureServer//1"&gt;,
 &lt;FeatureLayer url:"https://sampleserver6.arcgisonline.com/arcgis/rest/services/Sync/WildfireSync/FeatureServer//2"&gt;]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># query syncEnabled property to verify is sync is enabled</span>
<span class="n">wildfire_flc</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">syncEnabled</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[5]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>True</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># query the syncCapabilities property to view fine grained capabilities</span>
<span class="n">wildfire_flc</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">syncCapabilities</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[6]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>{
  "supportsRegisteringExistingData": true,
  "supportsPerReplicaSync": false,
  "supportsAttachmentsSyncDirection": true,
  "supportsRollbackOnFailure": false,
  "supportsAsync": true,
  "supportsSyncDirectionControl": true,
  "supportsPerLayerSync": true,
  "supportsSyncModelNone": true
}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="List-existing-replicas">List existing replicas<a class="anchor-link" href="#List-existing-replicas">¶</a>
<a href="#List-existing-replicas" class="headerlink" title="Permalink to this heading">¶</a></h4>
<p><code>FeatureLayerCollection.replicas</code> returns you a <code>SyncManager</code> object. You would work with this manager object for all your sync workflows.</p>
<p>Call <code>SyncManager.get_list()</code> method to get list of existing replicas.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">replica_list</span> <span class="o">=</span> <span class="n">wildfire_flc</span><span class="o">.</span><span class="n">replicas</span><span class="o">.</span><span class="n">get_list</span><span class="p">()</span>
<span class="nb">len</span><span class="p">(</span><span class="n">replica_list</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[7]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>5741</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As you can see, there are plenty of replicas on this layer. Let us view one of it</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">replica_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[8]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>{'replicaID': '8F0BAFB1-7CD2-4FA3-85C6-92B13F1E774D',
 'replicaName': 'Ags_Fs_1477025582337'}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Create-a-replica">Create a replica<a class="anchor-link" href="#Create-a-replica">¶</a>
<a href="#Create-a-replica" class="headerlink" title="Permalink to this heading">¶</a></h4>
<p>Call <code>SyncManager.create()</code> method to creat a new replica.</p>
<ul>
<li>For 2 way sync between client and server, the feature layer needs <code>Sync</code> capability.</li>
<li>For checking out (downloading) data from server, you need <code>Extract</code> capability.</li>
</ul>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># list all capabilities</span>
<span class="n">wildfire_flc</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">capabilities</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[9]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>'Create,Delete,Query,Sync,Update,Uploads,Editing'</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This layer has disabled ‘Extract’. Hence let us search for a different layer</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [15]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">getpass</span> <span class="kn">import</span> <span class="n">getpass</span>
<span class="n">password</span> <span class="o">=</span> <span class="n">getpass</span><span class="p">()</span>
<span class="n">portal_gis</span> <span class="o">=</span> <span class="n">GIS</span><span class="p">(</span><span class="s2">"http://esriwebgis.webgistesting.net/portal"</span><span class="p">,</span> <span class="s2">"atma.mani"</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
<span class="n">search_result</span> <span class="o">=</span> <span class="n">portal_gis</span><span class="o">.</span><span class="n">content</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">"USA states rivers cities"</span><span class="p">,</span> <span class="s2">"Feature Layer"</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>········
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [16]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">search_result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[16]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div class="item_container" style="height: auto; overflow: hidden; border: 1px solid #cfcfcf; border-radius: 2px; background: #f6fafa; line-height: 1.21429em; padding: 10px;">
                    <div class="item_left" style="width: 210px; float: left;">
                       <a href="http://esriwebgis.webgistesting.net/portal/home/item.html?id=b07e48ff4e1e4004b61487907bee8568" target="_blank">
                        <img src="data:image/png;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCACFAMgDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD3+iiigAoooPQ4GTQAU13VMbmAyQoz3JqIPdEZ8mIexlP/AMTSiJ5JEebaChJVV5GcEZJI9D7fjVcvcnm7E1FFFSUFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAVC0+SUiXzHBx3Cj6nFV7pHubhE2GS3jP7xAR8zcEZz1A6/XHWn+W5QW+8RKVIKxAlgP97sffHr9a0UUldmbk27IfJdxQIRJJvdFy+xSccdSBnH406J5pCGeNY0I+6Tlv04H60+KKOCNY4kCIvQCmRxPCyqr7oum1uqjtg/pz+fHK922g/evqTUUUVBYUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAVXa6WJykwZTuwpCkhuM8cdfb2qxTJIxKmxidp6j1HofamrdRO/Qpw3SfZUjikT7Q4BKnnDMckkD05JHt2qxgWsEspJkcAuxPBbA9vyqcADoMUhAYYIBHvVOSbJUWkMTzgxEhRlx1UEH8uf51JRRUMtBRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQBV1GxGo2EtoZ54BIMGSB9rjnsasIAqhAWO0AZOTn8T1p1FABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUVDdzG3tJZhj92pc59Byf0zWFp2r3Oo6ebxJHVZLl44xJiMbQSAeUJ7ccc5FROajuD0Vzo6K5wXmoQyYkvDNEzqgkjVMIcKWB+XoQW59verVrqK35kawvDcxxOY5GRk4YdQPl/w61Eq0USpJmzRWLJc6gAMb0ZnUKrumdpIyThSB3HU9qSwv2vLy8tvtcomtiqyRFVyhIz128g54+nSh14pXf6f5jTu7I28jOM8+lFYhi/0q2vJp5vPTdCrHGzJO3lRjOTz7fhSyanPIqCKWLasqiR4fmcrzyFIIAJxyTjBPfBO1NxqaRZm6vLubVFVLe7V7g2xmjkcLvDKwJIzjkAcdqt03Fp2ZpGSkroKKKh+1Rfafs+SZPZTgHGcZ6Zxzj6Uhk1FFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAEF8N1hcL3aNlA9SRgCsnSNNlg0tLe/czTqWEm3KxkZOMKDjGMVr3iGSyuEXOWjYDBwelc9JLZWd9beZeSL5kiwjMjs0u5CVyc5HOcDjofw5cTe1k7C6rQnimt7jUdQ0sRyQMhR1cDapO0EFeeSMZP4ZpltIbS5uI40ghV8SHyrdmDOQcnIIz90/49Kv3NnD5X/LQ7pEzmRjnkD19KyY7e8tGlmuhbRmS5WNQdzhowTgnLcHBxj2965qbjK6YTTiro0Cnl2qrJLCnzRtKFG1slhyTnrnvVFX8nxFM7+WtjJEiLOt0dxcZPzDPTnAP+NR3TXUviCxs4H8qHa7uVtcKSMEc5ypyOh64Na8c15sI2eYQzLvwB0JGcbufpxSbs7vqO2hRvIpbnR3g067eCfzXZJ/LaQcu2ecHPBI68Uy6voJJ0s1cQX/2WUxKUPyldvI4HTg9uD25rOs7i7nka2vtRhhvLS58+ZYJggKn+BgM8YIJPHJPoSbbXK3OrXCNZMX+ztILlEVo1AGFAc8kkZP5Dsa0jHld5apa/13Ik7qyJnh05rkQ3Eq3F1DnKl/3ixDILHJzzgkkewq9bTtpyC3YyTyGPfHCqncqjsST7qD788ZrEkuYJ5Hl/su9E8riBkYJ5mzeSXOSf3fQ8cc0mp6raaTFc3rbt23NovmPGkwwMklRtAz0/+uK7oYluDTTfZf1+hi6ajJONl5/1+pb8QeJ7nR7WKaKO1aUvmS2d/nSLBy3XJ6Dt370mhPqWqSfbHhRINymO7MhzcAY52YGBww5xww61zNnZL4+lYxSGG3tmBa6DM7PuAJjBPbI5z6LXf6Jo8Gg6VFp9tLLJDFnaZWBIH4AUkm9WbpN7mjRRRVlBRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABXPNoVvbardXFvFGJ7sq7PIC/yrjIH90jPH19uOhqKe2iuUCyoGCncuR0PY1E48ysBn3jzwwKioZWMibW9PmHX+nr7dahmgu5mjmuHiURyJ5cfl5wcgbs7uvJFWpLG6MCxpdI2xlI8xCScEHk59fas6HR7mytzHHNqE7+b5hMkyuOTk4yR+FcaoSgvMUtX5Fea/nTVLuB4m2woD9oeEgEkFiqMGyccfTJ7Upu5IIJZArTxIrynySzng5xtLA55478VeuI7popIhbruLMy+Y+PMyD6ZGRn17Z4pbqOxW2e8kmSCKHJ3SKAsZ6HryPTAI6+vNDtGylp/Xb+vvIs76GaLq3a2e4vIYRBPAyzSNGUDqcY3sM/NtHIPTmo7kxWdmI9OjtY7UQISI7j5ZU3YCjA64BG70PetCaCG4sYpISzo77ZF80yBlbgr82QQSR7YPpWRYa1BF/aSRzWv2O3dfJQHEmVYBgw6ADAAx29KcWk+aK+QNOS5ZEI+yzwy3D2KLfX0PlSo935u3sBk8FsE4we49qimtE/s+LRYbcwsYmBuRtkSBF5ZWBXhThhzknnrVjS49PutXM+pzwJqD27EQxTEJsLn5hnHONoyPT8a2/D2jwW1lDIpLRgs0JLEl1LEhmJPOeCB2z+VqPM7L+vxHFPqO8H2sVp4atY4oTGDknOPn9GyODlQK3aKK6ywooooAKKKKACiiigAooooAKKqpqFrJqUunrLm6ijWR0weFOcHPTtVqgAooooAKKKKACiiigAooooAjmhSdNr7hg5DKcEH1BqlcWVvFG6/Z0a1lGJYiuV6dSOmDjB/D3rRopSipRcWJpXv1MnTLCOe0hu7kLI8iB0QDCRAgEADuQMDceeO3SprTQ9Nsb17y2thHO4Ks4ZuQSCeM46gVoUUJKOwyjeWELebdxW0f20J8sqqA5x0G7rj26UmlYW3aNHLxq2Yz6Kedv1HT8qv0yOKOLd5aKu5izYGMk9TSt71wH0UUVQBRRRQAUUUUAFFFFABRRRQA0RoHLhF3ngtjn/ADxTqKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD//2Q==" width="200" height="133" class="itemThumbnail"></a>
                    </div>

                    <div class="item_right" style="float: none; width: auto; overflow: hidden;">
                        <a href="http://esriwebgis.webgistesting.net/portal/home/item.html?id=b07e48ff4e1e4004b61487907bee8568" target="_blank"><b><span class="caps">USA</span> states rivers cities</b>
                        </a>
                        <br>d005_GroupLayer<img src="http://esriwebgis.webgistesting.net/portal/home/js/jsapi/esri/css/images/item_type_icons/featureshosted16.png" style="vertical-align:middle;">Feature Layer Collection by atma.mani
                        <br>Last Modified: March 04, 2017
                        <br>0 comments, 0 views
                    </div>
                </div>
                </div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let us create a <code>FeatureLayerCollection</code> object from this item</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [19]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">states_flc</span> <span class="o">=</span> <span class="n">arcgis</span><span class="o">.</span><span class="n">features</span><span class="o">.</span><span class="n">FeatureLayerCollection</span><span class="o">.</span><span class="n">fromitem</span><span class="p">(</span><span class="n">search_result</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="nb">type</span><span class="p">(</span><span class="n">states_flc</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[19]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>arcgis.features.layer.FeatureLayerCollection</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="Verify-Extract-capability">Verify Extract capability<a class="anchor-link" href="#Verify-Extract-capability">¶</a>
<a href="#Verify-Extract-capability" class="headerlink" title="Permalink to this heading">¶</a></h5>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [18]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">states_flc</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">capabilities</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[18]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>'Create,Delete,Query,Sync,Update,Uploads,Editing'</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let us turn on the Extract capability by adding to the definition</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [22]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">existing_cap</span> <span class="o">=</span> <span class="n">states_flc</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">capabilities</span>
<span class="n">states_flc</span><span class="o">.</span><span class="n">manager</span><span class="o">.</span><span class="n">update_definition</span><span class="p">({</span><span class="s1">'capabilities'</span><span class="p">:</span><span class="n">existing_cap</span> <span class="o">+</span> <span class="s1">',Extract'</span><span class="p">})</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[22]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>{'success': True}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [23]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">states_flc</span><span class="o">.</span><span class="n">_refresh</span><span class="p">()</span>
<span class="n">states_flc</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">capabilities</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[23]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>'Create,Delete,Query,Sync,Update,Uploads,Editing,Extract'</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This is a suitable feature layer, let us extract the data into a file geodatabase and store it in local file system</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [ ]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ports_flc</span> <span class="o">=</span> <span class="n">arcgis</span><span class="o">.</span><span class="n">features</span><span class="o">.</span><span class="n">FeatureLayerCollection</span><span class="o">.</span><span class="n">fromitem</span><span class="p">(</span><span class="n">sr</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [25]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">replica1</span> <span class="o">=</span> <span class="n">states_flc</span><span class="o">.</span><span class="n">replicas</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">replica_name</span> <span class="o">=</span> <span class="s1">'arcgis_python_api_2'</span><span class="p">,</span>
                                    <span class="n">layers</span><span class="o">=</span><span class="s1">'0'</span><span class="p">,</span>
                                    <span class="n">data_format</span><span class="o">=</span><span class="s1">'filegdb'</span><span class="p">,</span>
                                    <span class="n">out_path</span> <span class="o">=</span> <span class="s1">'D:</span><span class="se">\\</span><span class="s1">Temp'</span><span class="p">)</span>
<span class="n">replica1</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[25]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>{'statusUrl': 'http://ESRIwebgis.webgistesting.net/server/rest/services/Hosted/WFL_allcapabilities/FeatureServer/jobs/j3427edd579874da2adce29a4db8d2c50'}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Removing-replicas">Removing replicas<a class="anchor-link" href="#Removing-replicas">¶</a>
<a href="#Removing-replicas" class="headerlink" title="Permalink to this heading">¶</a></h3>
<p>The sync operation is expensive on the resources of your web <span class="caps">GIS</span>. Hence, it is a good maintenance practice to remove unnecessary replicas. An ArcGIS admin could use the ArcGIS Python <span class="caps">API</span> to script and automate the process of scanning all feature layers and removing stale replicas on each of them.</p>
<p>A replica can be removed by calling the <code>unregister()</code> method and passing the id of a replica that needs to be removed.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [ ]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Let us query all the replicas registered on the ports feature layer from before</span>
<span class="n">replica_list</span> <span class="o">=</span> <span class="n">ports_flc</span><span class="o">.</span><span class="n">replicas</span><span class="o">.</span><span class="n">get_list</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [ ]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">replica_list</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>{'replicaName': 'SDS_FS', 'replicaID': '86E9D1D7-96FF-4B40-A366-DC9A9AAB6923'}
{'replicaName': 'SDS_FS_1481235956703', 'replicaID': '3B07459D-A23F-47D5-8E76-F3835E883A9D'}
{'replicaName': 'SDS_FS_1481236016125', 'replicaID': '662B83DA-6626-4BD1-8FAE-1A171EA5230B'}
{'replicaName': 'SDS_FS_1481236054393', 'replicaID': '38BAF9F8-34FE-4153-AE9C-2756992A49F5'}
{'replicaName': 'SDS_FS_1481236093401', 'replicaID': '3CB074DB-BA87-4E05-8235-F981FE5C601E'}
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>There are more than a few. I only want to remove the replicas that were registered 10 minutes ago. But, your search criteria could be any other.</p>
<p>We will loop through each of the replicas returned and use the <code>get()</code> method to get detailed information about these replicas and look a <code>creationDate</code> property.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Before looping, let us take a deeper look at one of these replicas by calling the <code>get()</code> method:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [ ]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">replica1</span> <span class="o">=</span> <span class="n">ports_flc</span><span class="o">.</span><span class="n">replicas</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'86E9D1D7-96FF-4B40-A366-DC9A9AAB6923'</span><span class="p">)</span>
<span class="n">replica1</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[ ]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>{'attachmentsSyncDirection': 'bidirectional',
 'creationDate': 1481235395998,
 'geometry': {'spatialReference': {'latestWkid': 3857, 'wkid': 102100},
  'xmax': -12351726.0067822,
  'xmin': -18249471.330872223,
  'ymax': 7382319.928103409,
  'ymin': 341526.2431555473},
 'lastSyncDate': 1481235395998,
 'layerServerGens': [{'id': 0, 'serverGen': 1481235395998}],
 'layers': [{'id': 0,
   'includeRelated': True,
   'queryOption': 'useFilter',
   'useGeometry': True,
   'where': ''}],
 'replicaID': '86E9D1D7-96FF-4B40-A366-DC9A9AAB6923',
 'replicaName': 'SDS_FS',
 'replicaOwner': 'arcgis_python_api',
 'returnsAttachments': True,
 'spatialReference': {'latestWkid': 3857, 'wkid': 102100},
 'spatialRel': 'esriSpatialRelIntersects',
 'syncModel': 'perLayer',
 'targetType': 'client'}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The <code>creationDate</code> key is retured as unix epoch time. We need to convert it to local time for processing:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [ ]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">time</span>
<span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">(</span><span class="n">replica1</span><span class="p">[</span><span class="s1">'creationDate'</span><span class="p">]</span><span class="o">/</span><span class="mi">1000</span><span class="p">)</span> <span class="c1">#dividing by 1000 to convert micro seconds to seconds</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[ ]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>time.struct_time(tm_year=2016, tm_mon=12, tm_mday=8, tm_hour=14, tm_min=16, tm_sec=35, tm_wday=3, tm_yday=343, tm_isdst=0)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To determine those replicas that were created 10 mins earlier, let us create an epoch timestamp for 10 mins before now and find those replicas whose time stamps are lower than this</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [ ]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ten_min_earlier_epoch</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="mi">10</span>
<span class="n">ten_min_earlier_epoch</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[ ]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>1481238022.105653</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [ ]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">time</span>
<span class="n">removal_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">replica_list</span><span class="p">:</span>
    <span class="n">temp_r</span> <span class="o">=</span> <span class="n">ports_flc</span><span class="o">.</span><span class="n">replicas</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="s1">'replicaID'</span><span class="p">])</span>
    <span class="n">temp_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'replica_id'</span><span class="p">:</span> <span class="n">r</span><span class="p">[</span><span class="s1">'replicaID'</span><span class="p">],</span>
                <span class="s1">'creationDate'</span><span class="p">:</span><span class="n">temp_r</span><span class="p">[</span><span class="s1">'creationDate'</span><span class="p">]</span><span class="o">/</span><span class="mi">1000</span><span class="p">}</span>
    
    <span class="c1">#check</span>
    <span class="k">if</span> <span class="n">temp_dict</span><span class="p">[</span><span class="s1">'creationDate'</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">ten_min_earlier_epoch</span><span class="p">:</span>
        <span class="n">removal_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">temp_dict</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">temp_dict</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>{'creationDate': 1481235395.998, 'replica_id': '86E9D1D7-96FF-4B40-A366-DC9A9AAB6923'}
{'creationDate': 1481235955.848, 'replica_id': '3B07459D-A23F-47D5-8E76-F3835E883A9D'}
{'creationDate': 1481236015.278, 'replica_id': '662B83DA-6626-4BD1-8FAE-1A171EA5230B'}
{'creationDate': 1481236053.455, 'replica_id': '38BAF9F8-34FE-4153-AE9C-2756992A49F5'}
{'creationDate': 1481236092.515, 'replica_id': '3CB074DB-BA87-4E05-8235-F981FE5C601E'}
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let us loop through each of these replicas and remove them using the <code>unregister()</code> method:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [ ]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">removal_list</span><span class="p">:</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">ports_flc</span><span class="o">.</span><span class="n">replicas</span><span class="o">.</span><span class="n">unregister</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="s1">'replica_id'</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>{'success': True}
{'success': True}
{'success': True}
{'success': True}
{'success': True}
</pre>
</div>
</div>

</div>
</div>

</div>
    </div>
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" integrity="sha384-3lJUsx1TJHt7BA4udB5KPnDrlkO8T6J6v/op7ui0BbCjvZ9WqV4Xm6DTP6kQ/iBH" crossorigin="anonymous"></script><script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true
    },
    displayAlign: 'center', // Change this to 'left' if you want left-aligned equations.
    "HTML-CSS": {
        styles: {'.MathJax_Display': {"margin": 0}}
    }
});
</script></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2022         <a href="mailto:atma.mani@outlook.com">Atma Mani</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
            
        </footer>
</div>
</div>


            <script src="../../../../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script>
</body>
</html>