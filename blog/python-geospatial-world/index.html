<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>A short tour of Open Geospatial Tools of the scientific Python ecosystem | Atma's blog</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#d4567b">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../../rss.xml">
<link rel="canonical" href="https://atmamani.github.io/blog/python-geospatial-world/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-113202945-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-113202945-1');
</script><meta name="author" content="Atma Mani">
<link rel="prev" href="../imagery-in-arcgis-ecosystem/" title="Imagery in ArcGIS ecosystem" type="text/html">
<link rel="next" href="../house-hunting-the-datascientist-way/" title="House hunting — the data scientist way" type="text/html">
<meta property="og:site_name" content="Atma's blog">
<meta property="og:title" content="A short tour of Open Geospatial Tools of the scientific Python ecosyst">
<meta property="og:url" content="https://atmamani.github.io/blog/python-geospatial-world/">
<meta property="og:description" content="One of my favorite statistics is that about 80% of data in the world, contain some element that is spatial. For instance, take the list of gas stations in a city or restaurants in a city, revenue from">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2018-06-06T10:20:00-07:00">
<meta property="article:tag" content="FOSS4G">
<meta property="article:tag" content="geo">
<meta property="article:tag" content="open-source">
<meta property="article:tag" content="opengeo">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://atmamani.github.io/">

                <span id="blog-title">Atma's blog</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Projects <b class="caret"></b></a>
            <ul class="dropdown-menu">
<li>
<a href="../../projects/math/">Learn math with Python</a>
                    </li>
<li>
<a href="../../projects/stats/">Learn stats with Python</a>
                    </li>
<li>
<a href="../../projects/ml/">Machine Learning projects</a>
                    </li>
<li>
<a href="../../projects/dl/">Deep Learning projects</a>
                    </li>
<li>
<a href="../../projects/spatial/">Spatial analysis</a>
                    </li>
<li>
<a href="../../projects/thermal/">Thermal remote sensing</a>
                    </li>
<li>
<a href="../../projects/mwrs/">Microwave remote sensing</a>
                    </li>
<li>
<a href="../../projects/fun/">Fun projects</a>
            </li>
</ul>
</li>
<li>
<a href="../">Blog</a>
                </li>
<li>
<a href="../../talks/">Talks</a>
            </li>
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Cheatsheets <b class="caret"></b></a>
            <ul class="dropdown-menu">
<li>
<a href="../../cheatsheets/learning-resources/">General learning resources</a>
                    </li>
<li>
<a href="../../"><hr></a>
                    </li>
<li>
<a href="../../cheatsheets/python/python_cheat_sheet_1/">Python basics, comprehensions</a>
                    </li>
<li>
<a href="../../cheatsheets/python/python_cheat_sheet_2/">Python OO and exception handling</a>
                    </li>
<li>
<a href="../../cheatsheets/python/python_cheat_sheet_3/">Python map, reduce, lambdas</a>
                    </li>
<li>
<a href="../../images/regex-mindmap.jpg">Python regex</a>
                    </li>
<li>
<a href="../../"><hr></a>
                    </li>
<li>
<a href="../../cheatsheets/conda_cheat_sheet/">Conda basics</a>
                    </li>
<li>
<a href="../../"><hr></a>
                    </li>
<li>
<a href="../../cheatsheets/numpy/numpy_cheat_sheet_1/">NumPy basics</a>
                    </li>
<li>
<a href="../../cheatsheets/numpy/numpy_cheat_sheet_2/">NumPy array slicing, dicing, searching</a>
                    </li>
<li>
<a href="../../"><hr></a>
                    </li>
<li>
<a href="../../cheatsheets/pandas/pandas_cheat_sheet_1/">Pandas basics</a>
                    </li>
<li>
<a href="../../cheatsheets/pandas/pandas_cheat_sheet_2/">Pandas multilevel index, <br>    missing data, aggregation, merging</a>
                    </li>
<li>
<a href="../../cheatsheets/pandas/pandas_cheat_sheet_3/">Productivity with Pandas</a>
                    </li>
<li>
<a href="../../cheatsheets/pandas/pandas_data_viz_1/">Pandas data visualization</a>
                    </li>
<li>
<a href="../../"><hr></a>
                    </li>
<li>
<a href="../../cheatsheets/matplotlib/matplotlib_1/">Matplotlib basics</a>
                    </li>
<li>
<a href="../../cheatsheets/matplotlib/matplotlib_2/">Matplotlib log scales, ticks, scientific</a>
                    </li>
<li>
<a href="../../"><hr></a>
                    </li>
<li>
<a href="../../cheatsheets/seaborn/seaborn_cheat_sheet_1/">Seaborn dist, joint, pair, rug plots</a>
                    </li>
<li>
<a href="../../cheatsheets/seaborn/seaborn_cheat_sheet_2/">Seaborn categorical - bar, count, <br>violin, strip, swarm plots</a>
                    </li>
<li>
<a href="../../cheatsheets/seaborn/seaborn_cheat_sheet_3/">Seaborn matrix, regression - heatmap, <br> cluster, regression</a>
                    </li>
<li>
<a href="../../cheatsheets/seaborn/seaborn_cheat_sheet_4/">Seaborn grids &amp; custom - pair, facet grids <br> customization</a>
                    </li>
<li>
<a href="../../"><hr></a>
                    </li>
<li>
<a href="../../cheatsheets/plotly/plotly_cufflinks_cheat_sheet_1/">Plotly introduction</a>
                    </li>
<li>
<a href="../../cheatsheets/plotly/plotly_cufflinks_cheat_sheet_2/">Plotly - interactive plotting</a>
                    </li>
<li>
<a href="../../cheatsheets/plotly/plotly_geographical_plotting_1/">Plotly - geographic plotting</a>
                    </li>
<li>
<a href="../../"><hr></a>
                    </li>
<li>
<a href="../../cheatsheets/r_cheat_sheet_1/">R basics</a>
                    </li>
<li>
<a href="../../cheatsheets/js_essentials/">Javascript essentials</a>
                    </li>
<li>
<a href="../../cheatsheets/latex-1/">Latex introduction</a>
                    </li>
<li>
<a href="../../cheatsheets/docker-1/">Docker introduction</a>
                    </li>
<li>
<a href="../../"><hr></a>
                    </li>
<li>
<a href="../../cheatsheets/open-geo/geopandas-1/">GeoPandas - IO, projections, plotting</a>
                    </li>
<li>
<a href="../../cheatsheets/open-geo/geopandas-2/">GeoPandas - GP, IO, interactive plotting, geocoding</a>
                    </li>
<li>
<a href="../../cheatsheets/open-geo/geopandas-3/">GeoPandas - spatial overlays, topology</a>
                    </li>
<li>
<a href="../../cheatsheets/open-geo/geopandas-4/">GeoPandas - PySal, OSM data IO</a>
                    </li>
<li>
<a href="../../cheatsheets/open-geo/open-geo-raster-1/">Rasterio - IO, plotting, histograms</a>
                    </li>
<li>
<a href="../../cheatsheets/open-geo/open-geo-raster-2/">Rasterio - hyperspectral, SAM</a>
                    </li>
<li>
<a href="../../cheatsheets/open-geo/postgis-1/">PostGIS - introduction</a>
                    </li>
<li>
<a href="../../cheatsheets/open-geo/postgis-2/">PostGIS - SQLAlchemy, GeoAlchemy, GeoPandas</a>
                    </li>
<li>
<a href="../../"><hr></a>
                    </li>
<li>
<a href="../../cheatsheets/web-development/">Web Development</a>
                    </li>
<li>
<a href="../../cheatsheets/html/">HTML basics</a>
            </li>
</ul>
</li>
<li>
<a href="../../apps/">Apps</a>
                </li>
<li>
<a href="../../rss.xml">RSS feed</a>

                
            </li>
</ul>
<!-- DuckDuckGo custom search --><form method="get" id="search" action="https://duckduckgo.com/" class="navbar-form pull-left">
<input type="hidden" name="sites" value="https://atmamani.github.io/"><input type="hidden" name="k8" value="#444444"><input type="hidden" name="k9" value="#D51920"><input type="hidden" name="kt" value="h"><input type="text" name="q" maxlength="255" placeholder="Search…" class="span2" style="margin-top: 4px;"><input type="submit" value="DuckDuckGo Search" style="visibility: hidden;">
</form>
<!-- End of custom search -->


            <ul class="nav navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">A short tour of Open Geospatial Tools of the scientific Python ecosystem</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                    Atma Mani
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2018-06-06T10:20:00-07:00" itemprop="datePublished" title="2018-06-06 10:20">2018-06-06 10:20</time></a>
            </p>
            

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<p>One of my favorite statistics is that about 80% of data in the world, contain some element that is spatial. For instance, take the list of gas stations in a city or restaurants in a city, revenue from medical industry, there is always some element of this data that can be categorized as being spatial - be it locations, routes the products take, cost variations in gas prices etc.</p>
<p>This spatial relationship is of significant interest to me and I have been analyzing them for over a decade and have been building software to analyze them for more than half of the past decade. While majority of what I built were proprietary, this blog is a look at what is available in the open-source ecosystem and when to use which tool.
<!-- TEASER_END -->
Something that is common and beautiful about the opensource Python data analysis ecosystem is, a number of these libraries have self-organized themselves around a common platform or standard of interoperability. You will find many libraries interchangeably using each other for parts they are good at, emphasizing the 'dont reinvent the wheel' philosophy. For then end user, even though the number of libraries is large, it is possible to mark a clear boundary of what lib does what functionality and why it is needed.</p>
<p>This blog is just a high level overview to navigate this python-open-geospatial community and packages.</p>
<p><strong>ToC</strong></p>
<ul>
<li><a href="#data-io">Data IO</a></li>
<li><a href="#raster-data-io">Raster data IO</a></li>
<li><a href="#geometry-and-projection-engines">Geometry and projection engines</a></li>
<li><a href="#spatial-indexing">Spatial indexing</a></li>
<li><a href="#data-wrangling">Data wrangling</a></li>
<li><a href="#visualization">Visualization</a></li>
<li><a href="#sharing---web-gis">Sharing - web GIS</a></li>
<li><a href="#spatial-analysis">Spatial analysis</a></li>
<li><a href="#pysal">Pysal</a></li>
<li><a href="#geocoding">Geocoding</a></li>
<li><a href="#conclusion">Conclusion</a></li>
</ul>
<h3>Data IO</h3>
<p><strong><a href="https://pypi.python.org/pypi/Fiona">Fiona</a></strong> is a <strong><a href="http://www.gdal.org/">GDAL</a></strong> Python wrapper and is for reading vector data. Fiona is written to be a clean Pythonic wrapper at the cost of performance and memory usage.</p>
<p>An alternate is <strong><a href="https://github.com/GeospatialPython/pyshp">PyShape</a></strong> which reads and writes Esri Shape files in <strong>pure Python</strong> vs Fiona which is a GDAL wrapper for libs in C.</p>
<p><strong><a href="https://github.com/gboeing/osmnx">OSMnx</a></strong> is a library used to retrieve network and vector data from Open Street Maps database. This library pairs well with <strong><a href="https://networkx.github.io/">networkx</a></strong> library that can perform network analysis</p>
<h4>Raster data IO</h4>
<p><strong><a href="https://rasterio.readthedocs.io/en/latest/index.html">rasterio</a></strong> is a popular library from Mapbox that is a Pythonic wrapper over GDAL Python bindings. This library makes it easy to read satellite images, DEMs (and all formats supported by GDAL) quickly into a <strong>numpy</strong> array. In addition, it has some handy methods such as plotting, histogram to quickly visualize the images.</p>
<p>Once in numpy, you can perform any analysis over raw arrays. However, rasterio provides modules to perform several different processing such as Georeferencing, masking, mosaicing, reprojecting, resampling and writing to disk.</p>
<h3>Geometry and projection engines</h3>
<p><strong><a href="http://geopandas.org/">Geopandas</a></strong> provides a spatial extension to the famous <a href="http://pandas.pydata.org/">pandas</a> library. It uses <a href="http://toblerity.github.io/shapely">shapely</a> for <strong>geometry</strong>, <a href="http://toblerity.github.io/fiona">fiona</a> for reading vector data, <a href="https://pypi.python.org/pypi/descartes">descartes</a> and matplotlib for plotting. Geopandas allows spatial operations that would otherwise require <strong>PostGIS</strong>.</p>
<p><strong><a href="http://toblerity.org/shapely/manual.html">Shapely</a></strong> is a Python package for manipulation and analysis of geometries. Shapely cannot IO datasets, but can help in projections. Shapely is a Pythonic wrapper to <a href="https://trac.osgeo.org/geos/">GEOS</a> (Geometry Engine, Open Source), which in turn is a <code>C++</code> port of <a href="https://trac.osgeo.org/geos/">Java Topology Suite</a>. You can already see a heavy re-use of libraries. Shapely forms the geometry backbone of geopandas</p>
<p><strong><a href="https://pypi.python.org/pypi/pyproj?">Pyproj</a></strong> is used by Geopandas to perform conversions to and between different <code>crs</code> (coordinate reference system). In addition, <strong><a href="https://github.com/karimbahgat/PyCRS">PyCRS</a></strong> appears to be an alternate implementation in pure Python for the same functionality.</p>
<h4>Spatial indexing</h4>
<h3>Data wrangling</h3>
<p>Geopandas supports pretty much all data wrangling provided by pandas. Thus you can treat it as a regular data frame and work with its non-spatial columns.</p>
<h3>Visualization</h3>
<p><strong><a href="https://pypi.org/project/descartes/">Descartes</a></strong> uses Shapely to convert them to matplotlib paths and patches. Thus it uses matplotlib for plotting geometries. The <code>GeoDataFrame.plot()</code> method of GeoPandas directly integrates with <code>Descartes</code> making it easy to directly plot your data frames.</p>
<p><strong>Folium</strong> uses Leaflet.js to plot an interactive map on the Jupyter notebook. It is pretty slick and looks great. Folium, in its current release does not seem to support reading Geopandas dataframes. You need to serialize it to a GeoJSON and then add it to the map. Although this can happen in memory, it may become problematic for large datasets. Another option to look into is <strong>IpyLeaflet</strong>.</p>
<p><strong><a href="http://geo.holoviews.org/index.html">GeoViews</a></strong> is a spatial extension for <a href="http://geo.holoviews.org/index.html">Holoviews</a> viz project. Geoviews is based on <strong><a href="https://scitools.org.uk/cartopy/docs/latest/">Cartopy</a></strong> and renders the plot either using matplotlib or bokeh (interactive) general plotting libraries. Cartopy is a common library that is used by many other high level plotting libraries.</p>
<p><strong><a href="https://residentmario.github.io/geoplot/index.html">Geoplot</a></strong> has an ambitious goal of being a seaborn like library for plotting spatial data. Similar at GeoViews, it is an extension to Cartopy and matplotlib.</p>
<h3>Sharing - web GIS</h3>
<h3>Spatial analysis</h3>
<p><strong>Geopandas</strong> allows for basic overlay and set operations. You can do
 - intersection, 
 - union, 
 - symmetrical difference, 
 - difference, 
 - buffer
 - dissolve and aggregation
 - attribute and spatial joins
 - geocoding using google, bing, googlev3, yahoo, mapquest, openmapquest.</p>
<p>A number of data wrangling such as reclassification is possible through regular pandas expressions and functionality.</p>
<h4>Pysal</h4>
<p>Python spatial analysis library, is the go-to for spatial data analysis in open source world.</p>
<h3>Geocoding</h3>
<p><a href="http://geopy.readthedocs.io/en/1.11.0/"><code>geopy</code></a> is a Pythonic wrapper for a number of different providers (including Google, Esri, Yahoo, Mapzen etc.) <code>geopandas</code> integrates with <code>geopy</code> and returns the hits as a <code>geodataframe</code>, how neat! Another option is <a href="http://geocoder.readthedocs.io/"><code>geocoder</code></a></p>
<h3>Conclusion</h3>
<p>By no means this is an exhaustive list, and that is the beauty of open source ecosystem. There are parallel efforts around the world to improve existing packages and building simpler and more powerful packages. Here is a blog that lists <a href="https://automating-gis-processes.github.io/CSC18/lessons/L1/Intro-Python-GIS.html#what-tools-are-available-for-doing-gis-in-pure-python">a few more packages</a> for Python geospatial work.</p>
<p><strong>Learning resources</strong>
 - <a href="https://geohackweek.github.io/">Geohackweek</a> has a nice tutorial for vector, raster data processing using open source Python packages.
 - <a href="https://automating-gis-processes.github.io/CSC18/index.html">Python GIS course by Henrikki Tenkanen</a></p>
</div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/foss4g/" rel="tag">FOSS4G</a></li>
            <li><a class="tag p-category" href="../../categories/geo/" rel="tag">geo</a></li>
            <li><a class="tag p-category" href="../../categories/open-source/" rel="tag">open-source</a></li>
            <li><a class="tag p-category" href="../../categories/opengeo/" rel="tag">opengeo</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../imagery-in-arcgis-ecosystem/" rel="prev" title="Imagery in ArcGIS ecosystem">Previous post</a>
            </li>
            <li class="next">
                <a href="../house-hunting-the-datascientist-way/" rel="next" title="House hunting — the data scientist way">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2019         <a href="mailto:atma.mani@outlook.com">Atma Mani</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script>
</body>
</html>
